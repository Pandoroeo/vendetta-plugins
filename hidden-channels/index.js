(function(r,s,i,c,p){"use strict";const{View:C,Text:y}=s.findByProps("Button","Text","View"),h=s.findByProps("extractTimestamp"),f=i.stylesheet.createThemedStyleSheet({container:{flex:1,alignItems:"center",justifyContent:"center"},title:{fontFamily:i.constants.Fonts.PRIMARY_SEMIBOLD,fontSize:24,textAlign:"left",color:p.semanticColors.HEADER_PRIMARY,paddingVertical:25},text:{fontSize:16,textAlign:"justify",color:p.semanticColors.HEADER_PRIMARY}});function m(t){let{channel:e}=t;return React.createElement(C,{style:f.container},React.createElement(y,{style:f.title},"This channel is hidden."),React.createElement(y,{style:f.text},"Topic: ",e.topic||"No topic.",`

`,"Creation date: ",i.moment(new Date(h.extractTimestamp(e.id))).fromNow(),`

`,"Last message: ",e.lastMessageId?i.moment(new Date(h.extractTimestamp(e.lastMessageId))).fromNow():"No messages.",`

`,"Last pin: ",e.lastPinTimestamp?i.moment(new Date(e.lastPinTimestamp)).fromNow():"No pins."))}let o=[];const P=s.findByProps("getChannelPermissions","can"),g=s.findByProps("transitionToGuild"),E=s.findByProps("stores","fetchMessages"),{ChannelTypes:d}=s.findByProps("ChannelTypes"),T=s.findByProps("hasUnread"),{getChannel:R}=s.findByProps("getChannel"),M=[d.DM,d.GROUP_DM,d.GUILD_CATEGORY];function l(t){if(t==null||(typeof t=="string"&&(t=R(t)),!t||M.includes(t.type)))return!1;t.realCheck=!0;let e=!P.can(i.constants.Permissions.VIEW_CHANNEL,t);return delete t.realCheck,e}function B(){const t=s.findByDisplayName("MessagesWrapperConnected",!1);o.push(c.after("can",P,function(e,n){let[a,u]=e;return!u?.realCheck&&a===i.constants.Permissions.VIEW_CHANNEL?!0:n})),o.push(c.instead("transitionToGuild",g,function(e,n){const[a,u]=e;!l(u)&&typeof n=="function"&&n(e)})),o.push(c.after("hasUnreadPins",T,function(e,n){let[a]=e;return l(a)?!1:n})),o.push(c.instead("fetchMessages",E,function(e,n){const[a]=e;!l(a)&&typeof n=="function"&&n(e)})),o.push(c.instead("default",t,function(e,n){const a=e[0]?.channel;return!l(a)&&typeof n=="function"?n(...e):i.React.createElement(m,{channel:a})}))}var N={onLoad:B,onUnload:function(){for(const t of o)t()}};return r.default=N,Object.defineProperty(r,"__esModule",{value:!0}),r})({},vendetta.metro,vendetta.metro.common,vendetta.patcher,vendetta.ui);
