(function(s,n,t,i,u,d,f){"use strict";let a=[];const r=n.findByProps("openLazy","hideActionSheet"),{FormRow:l,FormIcon:p}=u.Forms,{getCurrentUser:h}=n.findByProps("getCurrentUser"),{suppressEmbeds:E}=n.findByProps("suppressEmbeds"),g=n.findByProps("getChannelPermissions","can"),{getChannel:y}=n.findByProps("getChannel");function m(){a.push(i.before("openLazy",r,function(o){let[B,_,b]=o;const e=b?.message;_!="MessageLongPressActionSheet"||!e||B.then(function(v){const A=i.after("default",v,function(L,M){t.React.useEffect(function(){return function(){A()}},[]);const c=f.findInReactTree(M,function(C){return C?.[0]?.type?.name==="ButtonRow"});if(!c)return;const R=y(e.channel_id);if(e.embeds.length==0||h().id!==e.author.id&&!g.can(t.constants.Permissions.MANAGE_MESSAGES,R))return;const S=t.i18n?.Messages?.WEBHOOK_DELETE_TITLE?.intlMessage?.format({name:"Embed"});c.push(t.React.createElement(l,{label:S||"Delete Embed",leading:t.React.createElement(p,{style:{opacity:1},source:d.getAssetIDByName("ic_close_16px")}),onPress:function(){E(e.channel_id,e.id),r.hideActionSheet()}}))})})}))}var P={onLoad:m,onUnload:function(){for(const o of a)o()}};return s.default=P,Object.defineProperty(s,"__esModule",{value:!0}),s})({},vendetta.metro,vendetta.metro.common,vendetta.patcher,vendetta.ui.components,vendetta.ui.assets,vendetta.utils);
