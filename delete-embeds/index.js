(function(s,e,t,o,d,u){"use strict";let r=[];const a=e.findByProps("openLazy","hideActionSheet"),{FormRow:f}=d.Forms,l=e.findByName("Icon"),{getCurrentUser:p}=e.findByProps("getCurrentUser"),{suppressEmbeds:h}=e.findByProps("suppressEmbeds"),E=e.findByProps("getChannelPermissions","can"),{getChannel:g}=e.findByProps("getChannel");function y(){r.push(o.before("openLazy",a,function(i){const[P,B,_]=i;B=="MessageLongPressActionSheet"&&P.then(function(b){const v=o.after("default",b,function(S,A){t.React.useEffect(function(){return function(){v()}},[]);const[L,c]=A.props?.children?.props?.children?.props?.children,n=L?.props?.message??_?.message;if(!c||!n)return;const M=g(n.channel_id);if(n.embeds.length==0||p().id!==n.author.id&&!E.can(t.constants.Permissions.MANAGE_MESSAGES,M))return;const C=t.i18n?.Messages?.WEBHOOK_DELETE_TITLE?.intlMessage?.format({name:"Embed"});c.push(t.React.createElement(f,{label:C||"Delete Embed",leading:t.React.createElement(l,{source:u.getAssetIDByName("ic_close_16px")}),onPress:function(){h(n.channel_id,n.id),a.hideActionSheet()}}))})})}))}var m={onLoad:y,onUnload:function(){for(const i of r)i()}};return s.default=m,Object.defineProperty(s,"__esModule",{value:!0}),s})({},vendetta.metro,vendetta.metro.common,vendetta.patcher,vendetta.ui.components,vendetta.ui.assets);
