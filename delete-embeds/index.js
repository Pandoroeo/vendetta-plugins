(function(s,e,o,r,l,u){"use strict";let i=[];const a=e.findByProps("openLazy","hideActionSheet"),{FormRow:f}=l.Forms,h=e.findByName("Icon"),{getCurrentUser:m}=e.findByProps("getCurrentUser"),{suppressEmbeds:g}=e.findByProps("suppressEmbeds"),E=e.findByProps("getChannelPermissions","can"),{getChannel:y}=e.findByProps("getChannel");function P(){i.push(r.before("openLazy",a,function(t){const[_,b,v]=t;b=="MessageLongPressActionSheet"&&_.then(function(A){const c=r.after("default",A,function(C,d){const[L,p]=d.props?.children?.props?.children?.props?.children,n=L?.props?.message??v?.message;if(!p||!n)return;const M=y(n.channel_id);if(n.embeds.length==0||m().id!==n.author.id&&!E.can(o.constants.Permissions.MANAGE_MESSAGES,M)){c();return}const S=o.i18n?.Messages?.WEBHOOK_DELETE_TITLE?.intlMessage?.format({name:"Embed"});d.props.children.props.children.props.children[1]=[...p,React.createElement(f,{label:S||"Delete Embed",leading:React.createElement(h,{source:u.getAssetIDByName("ic_close_16px")}),onPress:function(){g(n.channel_id,n.id),a.hideActionSheet()}})],c()})})}))}var B={onLoad:P,onUnload:function(){for(const t of i)t()}};return s.default=B,Object.defineProperty(s,"__esModule",{value:!0}),s})({},vendetta.metro,vendetta.metro.common,vendetta.patcher,vendetta.ui.components,vendetta.ui.assets);
