(function(s,n,t,r,d,u){"use strict";let i=[];const a=n.findByProps("openLazy","hideActionSheet"),{FormRow:f,FormIcon:l}=d.Forms,{getCurrentUser:p}=n.findByProps("getCurrentUser"),{suppressEmbeds:h}=n.findByProps("suppressEmbeds"),E=n.findByProps("getChannelPermissions","can"),{getChannel:g}=n.findByProps("getChannel");function y(){i.push(r.before("openLazy",a,function(o){const[P,_,b]=o;_=="MessageLongPressActionSheet"&&P.then(function(B){const v=r.after("default",B,function(C,A){t.React.useEffect(function(){return function(){v()}},[]);const[L,c]=A.props?.children?.props?.children?.props?.children,e=L?.props?.message??b?.message;if(!c||!e)return;const M=g(e.channel_id);if(e.embeds.length==0||p().id!==e.author.id&&!E.can(t.constants.Permissions.MANAGE_MESSAGES,M))return;const S=t.i18n?.Messages?.WEBHOOK_DELETE_TITLE?.intlMessage?.format({name:"Embed"});c.push(t.React.createElement(f,{label:S||"Delete Embed",leading:t.React.createElement(l,{style:{opacity:1},source:u.getAssetIDByName("ic_close_16px")}),onPress:function(){h(e.channel_id,e.id),a.hideActionSheet()}}))})})}))}var m={onLoad:y,onUnload:function(){for(const o of i)o()}};return s.default=m,Object.defineProperty(s,"__esModule",{value:!0}),s})({},vendetta.metro,vendetta.metro.common,vendetta.patcher,vendetta.ui.components,vendetta.ui.assets);
