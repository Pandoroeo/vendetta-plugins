(function(s,e,t,o,l,f){"use strict";let c=[];const p=e.findByProps("getAPIBaseURL","patch"),i=e.findByProps("openLazy","hideActionSheet"),{FormRow:h}=l.Forms,{MessageFlags:u}=t.constants,g=e.findByName("Icon"),E=e.findByProps("getChannelPermissions","can"),{getChannel:m}=e.findByProps("getChannel");function P(){c.push(o.before("openLazy",i,function(a){const[B,S,_]=a;S=="MessageLongPressActionSheet"&&B.then(function(M){const A=o.after("default",M,function(R,r){const[L,d]=r.props?.children?.props?.children?.props?.children,n=L?.props?.message??_?.message;if(!d||!n)return;const b=m(n.channel_id);if(!E.can(t.constants.Permissions.MANAGE_MESSAGES,b))return;const v=t.i18n?.Messages?.WEBHOOK_DELETE_TITLE?.intlMessage?.format({name:"Embed"});r.props.children.props.children.props.children[1]=[...d,React.createElement(h,{label:v||"Delete Embed",leading:React.createElement(g,{source:f.getAssetIDByName("ic_close_16px")}),onPress:function(){p.patch({url:`/channels/${n.channel_id}/messages/${n.id}`,body:{flags:n.flags|u.SUPPRESS_EMBEDS}}),i.hideActionSheet()}})],A()})})}))}var y={onLoad:P,onUnload:function(){for(const a of c)a()}};return s.default=y,Object.defineProperty(s,"__esModule",{value:!0}),s})({},vendetta.metro,vendetta.metro.common,vendetta.patcher,vendetta.ui.components,vendetta.ui.assets);
