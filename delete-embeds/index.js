(function(s,e,o,r,p,l){"use strict";let i=[];const a=e.findByProps("openLazy","hideActionSheet"),{FormRow:u}=p.Forms,f=e.findByName("Icon"),{getCurrentUser:h}=e.findByProps("getCurrentUser"),{suppressEmbeds:m}=e.findByProps("suppressEmbeds"),g=e.findByProps("getChannelPermissions","can"),{getChannel:E}=e.findByProps("getChannel");function y(){i.push(r.before("openLazy",a,function(t){const[B,_,b]=t;_=="MessageLongPressActionSheet"&&B.then(function(v){const A=r.after("default",v,function(M,c){const[L,d]=c.props?.children?.props?.children?.props?.children,n=L?.props?.message??b?.message;if(!d||!n||n.embeds.length==0)return;const S=E(n.channel_id);if(h().id!==n.author.id&&!g.can(o.constants.Permissions.MANAGE_MESSAGES,S))return;const C=o.i18n?.Messages?.WEBHOOK_DELETE_TITLE?.intlMessage?.format({name:"Embed"});c.props.children.props.children.props.children[1]=[...d,React.createElement(u,{label:C||"Delete Embed",leading:React.createElement(f,{source:l.getAssetIDByName("ic_close_16px")}),onPress:function(){m(n.channel_id,n.id),a.hideActionSheet()}})],A()})})}))}var P={onLoad:y,onUnload:function(){for(const t of i)t()}};return s.default=P,Object.defineProperty(s,"__esModule",{value:!0}),s})({},vendetta.metro,vendetta.metro.common,vendetta.patcher,vendetta.ui.components,vendetta.ui.assets);
